{"remainingRequest":"/Users/will/Documents/cb-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/will/Documents/cb-test/src/components/Form/form.vue?vue&type=style&index=0&lang=scss","dependencies":[{"path":"/Users/will/Documents/cb-test/src/components/Form/form.vue","mtime":1529225114669},{"path":"/Users/will/Documents/cb-test/node_modules/css-loader/index.js","mtime":1529228477031},{"path":"/Users/will/Documents/cb-test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1521907989000},{"path":"/Users/will/Documents/cb-test/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/will/Documents/cb-test/node_modules/sass-loader/lib/loader.js","mtime":499162500000},{"path":"/Users/will/Documents/cb-test/node_modules/cache-loader/dist/cjs.js","mtime":1529228477480},{"path":"/Users/will/Documents/cb-test/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.Form {\n  &__error {\n    color: red\n  }\n  &__message {\n    padding: 1em;\n    color: #31708f;\n    background-color: #d9edf7;\n    border: 1px solid #bce8f1;\n  }\n}\n\n",{"version":3,"sources":["form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form.vue","sourceRoot":"src/components/Form","sourcesContent":["<template>\n  <div class=\"Form\">\n    <p>Fields marked <span class=\"required\">*</span> are required.</p>\n    <p class=\"Form__error\" v-if=\"errors\">Oh no, you have {{ errors }} errors.</p>\n    <p class=\"Form__message\" v-for=\"message in messages\">{{ message }}</p>\n    <field name=\"First name\" v-model=\"form.first_name\" :required=\"true\"></field>\n    <field name=\"Surname\" v-model=\"form.surname\" :required=\"true\"></field>\n    <field name=\"E-mail address\" v-model=\"form.email_address\" :required=\"true\"></field>\n    <field name=\"Customer query\" v-model=\"form.customer_query\" type=\"textarea\"></field>\n    <button-cta full @click=\"validateForm\">Add</button-cta>\n  </div>\n</template>\n\n<script>\n  import Field from '@/components/Form/Field/field.vue'\n  import ButtonCta from '@/components/ButtonCta/button-cta.vue'\n  import {formMixin} from '@/mixins/formMixin'\n\n  export default {\n    name: 'Summary',\n    mixins: [formMixin],\n    components: {\n      Field,\n      ButtonCta\n    },\n    data: () => ({\n      messages: [],\n      form: {\n        first_name: '',\n        surname: '',\n        email_address: '',\n        customer_query: ''\n      },\n      errors: 0\n    }),\n    methods: {\n      validateForm() {\n\n        this.resetForm()\n\n        if (this.form.first_name === '') {\n          this.addErrorMessage('First Name')\n          this.errors++\n        }\n        if (this.form.surname === '') {\n          this.addErrorMessage('Surname')\n          this.errors++\n        }\n        if (this.form.email_address === '') {\n          this.addErrorMessage('Email Address')\n          this.errors++\n        }\n        if (!this.validateEmail(this.form.email_address)) {\n          this.messages.push('Please add a valid Email Address.')\n          this.errors++\n        }\n\n        if (this.errors) {\n          return\n        }\n\n        this.submitForm(this.form)\n      },\n      resetForm() {\n        this.messages = []\n        this.errors = 0\n      },\n      addErrorMessage(name) {\n        return this.messages.push(`You need to add a ${name}.`)\n      },\n      // regular expression thanks to: https://stackoverflow.com/questions/46155/how-to-validate-an-email-address-in-javascript\n      validateEmail(email) {\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n        return re.test(String(email).toLowerCase())\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n\n  .Form {\n    &__error {\n      color: red\n    }\n    &__message {\n      padding: 1em;\n      color: #31708f;\n      background-color: #d9edf7;\n      border: 1px solid #bce8f1;\n    }\n  }\n\n</style>\n"]}]}